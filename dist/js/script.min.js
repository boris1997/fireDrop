class Slider{constructor(t,e,i,n,s){this.arrow=t,this.content=e,this.dragableItem=i,this.main=n,this.slideNumber=s,this.isDragging=!1,this.currentIndex=0,this.startPos=0,this.currentTranslation=0,this.prevTranslation=0,this.animationID=0}resizeWindow=()=>{window.onresize=t=>{this.getTransformation(t)}};contextMenu=()=>{window.oncontextmenu=t=>(t.preventDefault(),t.stopPropagation(),!1)};initDrag=()=>{console.log(this.content),this.content.map(((t,e)=>{t.addEventListener("dragstart",(t=>t.preventDefault())),console.log(e),t.addEventListener("touchstart",this.touchStart(e),{passive:!0}),t.addEventListener("touchend",(t=>this.touchEnd(t))),t.addEventListener("touchmove",this.touchMove,{passive:!0}),t.addEventListener("mousedown",this.touchStart(e),{passive:!0}),t.addEventListener("mouseup",(t=>this.touchEnd(t))),t.addEventListener("mouseleave",(t=>this.touchEnd(t))),t.addEventListener("mousemove",this.touchMove,{passive:!0})}))};touchStart=t=>(console.log(t),e=>{this.dragableItem[t].classList.add("carousel__wrapper--dragable"),this.currentIndex=t,this.startPos=this.getPositionX(e),this.isDragging=!0,this.animationID=requestAnimationFrame(this.animation)});touchEnd=t=>{cancelAnimationFrame(this.animationID),this.isDragging=!1,this.dragableItem[this.currentIndex].classList.remove("carousel__wrapper--dragable");const e=document.querySelector(".carousel__item--active");this.currentTranslation<=0&&e.nextElementSibling&&Math.abs(this.currentTranslation)>Math.abs(this.prevTranslation)+e.clientWidth/2.5?(this.toggleAciveElement(e,e.nextElementSibling),this.getTransformation(t)):this.currentTranslation<=0&&e.previousElementSibling&&Math.abs(this.currentTranslation)<Math.abs(this.prevTranslation)-e.clientWidth/2.5?(this.toggleAciveElement(e,e.previousElementSibling),this.getTransformation(t)):this.getTransformation(t)};touchMove=t=>{if(this.isDragging){const e=this.getPositionX(t);this.currentTranslation=this.prevTranslation+e-this.startPos}};animation=()=>{this.setSliderPosition(),this.isDragging&&requestAnimationFrame(this.animation)};setSliderPosition=()=>this.main.style.transform=`translateX(${this.currentTranslation}px)`;getPositionX=t=>t.type.includes("mouse")?t.pageX:t.touches[0].clientX;getToggleBtns=()=>{this.arrow[0].addEventListener("click",(t=>{this.left(t)})),this.arrow[1].addEventListener("click",(t=>{this.rigth(t)}))};rigth=t=>{const e=document.querySelector(".carousel__item--active");e.nextElementSibling?(this.toggleAciveElement(e,e.nextElementSibling),this.getTransformation(t)):(this.toggleAciveElement(e,this.content[0]),this.getTransformation(t))};left=()=>{const t=document.querySelector(".carousel__item--active");t.previousElementSibling?(this.toggleAciveElement(t,t.previousElementSibling),this.getTransformation(e)):(this.toggleAciveElement(t,this.main.lastElementChild),this.getTransformation(e))};toggleAciveElement=(t,e)=>{t.classList.remove("carousel__item--active"),e.classList.add("carousel__item--active")};activeSlide=()=>document.querySelector(".carousel__item--active");getTransformation=t=>{console.log(t);const e=document.querySelector(".carousel__item--active");this.currentIndex=this.content.indexOf(e),this.slideNumber.textContent=this.currentIndex+1,this.prevTranslation=this.currentIndex*-e.clientWidth,this.currentTranslation=-this.currentIndex*e.clientWidth,this.main.style.transform=t?`translate(-${this.currentIndex}00%)`:`translate(${this.currentTranslation}px)`}}document.addEventListener("DOMContentLoaded",(()=>{const t=[...document.querySelectorAll(".togglers__item")],e=[...document.querySelectorAll(".carousel__item")],i=[...document.querySelectorAll(".carousel__wrapper")],n=document.querySelector(".carousel__content"),s=document.querySelector(".togglers__slide-count"),r=new Slider(t,e,i,n,s);r.resizeWindow(),r.getToggleBtns(),r.initDrag(),r.contextMenu()}));